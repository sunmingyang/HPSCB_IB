feba.js={name:"feba.js",description:"",version:"1.0",jsObjects:[],startFlag:!0,add:function(t){LIB.__ADD__(this.jsObjects,t)},remove:function(t){LIB.__REMOVE__(this.jsObjects,t)},startRequest:function(){LIB.__START__.bind(this)(this.jsObjects,feba.startFlag)},stopRequest:function(){LIB.__STOP__.bind(this)(this.jsObjects)},isRunning:function(){LIB.__IS_RUNNING__.bind(this)()},include:function(t,e){t==Constants.FEBA_COMMON?feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/common/N"+e+"></script>"):t==Constants.FEBA_COMMONJ?feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/common/"+e+"></script>"):t==Constants.FEBA_PAGE?feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/module/"+feba.moduleId+"/N"+e+"></script>"):t==Constants.FEBA_AJAXFEATURES?feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/ria/ajaxfeatures/"+e+"></script>"):t==Constants.FEBA_EFFECTS?feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/ria/visualeffects/N"+e+"></script>"):t==Constants.FEBA_ADAPTIVEAUTH?feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/adaptiveauthentication/"+e+"></script>"):t==Constants.FEBA_ADAPTIVEAUTH_SOLUTION&&feba.domManipulator.write('<script type="text/JavaScript" src='+feba.scriptsPath+"/adaptiveauthentication/"+ADAPTIVECONFIG.solutionType+"/"+e+"></script>")},load:function(){if("false"==feba.isPortalRequest){this.include(Constants.FEBA_COMMON,"tree1_format.js"),this.include(Constants.FEBA_COMMON,"common.js"),this.include(Constants.FEBA_COMMON,"encrypt.js"),this.include(Constants.FEBA_COMMON,"Map.js"),this.include(Constants.FEBA_COMMON,"messages.js"),this.include(Constants.FEBA_COMMON,"messageFunctions.js"),this.include(Constants.FEBA_COMMON,"commonFunctions.js"),this.include(Constants.FEBA_COMMON,"taglibs.js"),this.include(Constants.FEBA_AJAXFEATURES,"NFEBAAjaxObjects.js"),this.include(Constants.FEBA_EFFECTS,"FEBAVisualEffects.js"),this.include(Constants.FEBA_COMMON,"EBGCD.js"),this.include(Constants.FEBA_COMMON,"CxpsGDHelper.js"),this.include(Constants.FEBA_COMMON,"CxpsCallFunctionsResponse.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.simplemodal-1.4.1.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.autocomplete.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.blockUI.js"),this.include(Constants.FEBA_EFFECTS,"FEBAAccordion.js"),this.include(Constants.FEBA_COMMON,"jquery-jcryption.js"),this.include(Constants.FEBA_EFFECTS,"FEBATabs.js"),this.include(Constants.FEBA_EFFECTS,"FEBATooltip.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.jcarousel.js"),this.include(Constants.FEBA_COMMON,"FEBAJSConfiguration.js"),this.include(Constants.FEBA_ADAPTIVEAUTH,"adaptivecommon.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.ui.core.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.corner.js"),this.include(Constants.FEBA_AJAXFEATURES,"jquery.stylish-select.js"),this.include(Constants.FEBA_AJAXFEATURES,"ICICIEffects.js");var t={accounts:[],crpadmin:["AccessScript.js"],DirectBanking:["AC_OETags.js","DepositCalculator.js","json.js","SavingsCalculator.js","utils.js"],mufu:["MFScript.js","MFSwitchScript.js"],servicerequest:["fnScript.js"]};if(feba.moduleId){var e=t[feba.moduleId];if(e)for(i=0;i<e.length;i++)this.include(Constants.FEBA_PAGE,e[i])}}feba.features={},feba.add(feba.js),feba.loader.fnload(function(){feba.domManipulator.bind(feba.domManipulator.getElement("form"),"submit","",function(t){feba.domManipulator.getAttribute(t.target,"isDownloadAction")||"multipart/form-data"==feba.domManipulator.getAttribute(t.target,"encoding")||feba.domManipulator.getElementById("GroupletPanel").html("")})}),jQuery(document).ready(function(){feba.loader.executeAll()})},toString:function(){return this.name+LIB.__TO_STRING__(this.ajaxObjects)}},feba.js.load(),feba.domManipulator.createBaseClass("LIB.Parser",{},{init:function(t,e){this.type=t||"xml",this.plaintext=!1,arguments.length>=2&&(this.plaintext=e&&!0),this.content=null,this.contentText=null,this.contentXML=null,this.response=null},load:function(t,e){return"UnitTesting"===CONFIG.operatingMode?(LOG.logMessages(this,"In Testing Mode , Parser is loaded"),null):(this.contentText=t.responseText,this.contentXML=t.responseXML,this.content=null,this.response=t,void this.parse(e))},parse:function(currentObject,data){function parseJSONtoHTMLList(){var t=this.contentText,e=[],s=[],n="";for(n in t)e.push(n),s.push(t[n]);var a=s[0],i=s[1],o=s[2],r=s[4],c=s[5];return this.content=[],this.content[0]=a,this.content[1]=i,this.content[2]=r,this.content[3]=c,this.content[4]=o,this.content}function parseJSON(){if(handleFatal(this.response,this.contentText))return void LOG.logMessages(this,"In parser , Response is FATAL JSP");xdata=[],row=[];var jsonObject;try{jsonObject=eval("("+this.contentText+")")}catch(ex){var temp=JSON.stringify(this.contentText);jsonObject=JSON.parse(temp)}var keyArray=[],valueArray=[],key="";for(key in jsonObject)keyArray.push(key),valueArray.push(jsonObject[key]);this.exceptionType=this.response.getResponseHeader(Constants.EXCEPTIONTYPE);for(var index=0;index<keyArray.length;index++)row=[],row.push(keyArray[index]),row.push(valueArray[index]),xdata.push(row);this.content=xdata}function parseJSONMultiple(){if(handleFatal(this.response,this.contentText))return void LOG.logMessages(this,"In parser , Response is FATAL JSP");xdata=[];var jsonObject=eval("("+this.contentText+")"),keyArray=[],valueArray=[],key="";for(key in jsonObject)keyArray.push(key),valueArray.push(jsonObject[key]);for(i=0;i<keyArray.length;i++)row=[],row.push(keyArray[i]),row.push(valueArray[i]),xdata.push(row);this.content=xdata}function parseJSONtoHTML(){if(handleFatal(this.response,this.contentText)||handleNewTransaction(this.response,this.contentText))return void LOG.logMessages(this,"In parser , Response is FATAL JSP");xdata=document.createElement("div");var t=null,e=null;feba.domManipulator.each(this.content,function(s,n){e=document.createElement("h1"),this.plaintext?e=feba.domManipulator.replaceWith(feba.domManipulator.getElement(e),n[0]):e.innerHTML+=n[0],xdata.appendChild(e),feba.domManipulator.each(n.shift(),function(e,s){t=document.createElement("div"),this.plaintext?feba.domManipulator.replaceWith(feba.domManipulator.getElement(t),s):t.innerHTML+=s,xdata.appendChild(t)})}),xdata=null!==e?xdata.innerHTML:"",this.content=xdata}function parseHTML(){var t=this.response.getResponseHeader("redirectURL");if(t){var e=feba.domManipulator.getElementOfClass("modalCloseImg");return feba.domManipulator.trigger(e,"click"),void window.location.replace(t)}var s=this.response.getResponseHeader("title");return s&&(this.title=s),handleFatal(this.response,this.contentText)||handleNewTransaction(this.response,this.contentText)?void LOG.logMessages(this,"In parser , Response is FATAL JSP"):(this.exceptionType=this.response.getResponseHeader(Constants.EXCEPTIONTYPE),xdata=this.contentText,void(this.content=xdata))}function handleFatal(t,e,s){return this.exceptionType=t.getResponseHeader(Constants.EXCEPTIONTYPE),t.getResponseHeader(Constants.IS_FATAL)?(document.body.innerHTML="",document.body.innerHTML=e,!0):0==e.length?(s.options.target&&feba.features[s.options.target]&&"function"==typeof feba.features[s.options.target].handleTimeout&&feba.features[s.options.target].handleTimeout(null,"fatal",null),!0):!1}function handleNewTransaction(t,e){if(t.getResponseHeader(Constants.IS_NEW_TRANSACTION)){var s=e.match(new RegExp("<script[^>]*>([\\S\\s]*?)</script>","img")),n=e.replace(new RegExp("<script[^>]*>([\\S\\s]*?)</script>","img"),"");document.body.innerHTML="",document.body.innerHTML=n;var a=jQuery("div:last");window.ajaxPageRefresh="true";for(var i=s.length,o=0;i>o;o++)try{a.append(s[o])}catch(r){}return!0}}function parseHTMLtoElementList(t){if(handleFatal(this.response,this.contentText,t)||handleNewTransaction(this.response,this.contentText))return void LOG.logMessages(this,"In parser , Response is FATAL JSP");var e=document.createElement("div");e.innerHTML=this.contentText;var s=feba.domManipulator.children(feba.domManipulator.getElement(e));if(xdata=[],xdata[0]=s,this.response.getResponseHeader(Constants.REQUEST_ID)){var n=this.response.getResponseHeader(Constants.REQUEST_ID),a=n.split(",");xdata[1]=a}xdata[2]=this.response.getResponseHeader(Constants.EXCEPTION_WIDGETS),this.content=xdata}if("UnitTesting"===CONFIG.operatingMode)return LOG.logMessages(this,"In parser , opertaingMode is Testing"),null;var xdata=null;switch(arguments.length>=2&&(this.contentText=data),this.type){case"jsontohtmllist":return parseJSONtoHTMLList.call(this);case"json":return void parseJSON.call(this);case"jsonMultiple":return void parseJSONMultiple.call(this);case"jsontohtml":return void parseJSONtoHTML.call(this);case"html":return void parseHTML.call(this);case"htmltoelementlist":return void parseHTMLtoElementList.call(this,currentObject)}}});